import{d as C,r as v,a3 as B,a4 as E,c as M,f as o,w as n,g as l,e as t,x as d,p as g,t as Y,A as b,k as D,C as R,i as j,b as H,j as w,E as T,_ as z}from"./index-BQnrSvw8.js";import{M as A}from"./style-IFfT69lj.js";import{g as I}from"./index-DKjOyILR.js";const P={class:"note-view-container"},S={class:"header"},U={class:"meta"},$={class:"header"},q={class:"title-row"},F={class:"title"},G={class:"meta"},J={class:"time"},K={class:"content"},L=C({__name:"NoteView",setup(O){const i=H(),_=j(),a=v(null),r=v(!1),y=e=>e?R(e).format("YYYY-MM-DD HH:mm:ss"):"",m=async e=>{r.value=!0;try{const s=await I(e);a.value=s.data}catch(s){console.error("获取笔记失败:",s),T.error("获取笔记失败"),_.push("/notes")}finally{r.value=!1}},k=()=>{_.push(`/notes/edit/${i.params.id}`)};return B(async e=>{e.params.id&&await m(e.params.id)}),E(async()=>{i.params.id&&await m(i.params.id)}),(e,s)=>{const c=l("el-skeleton-item"),x=l("el-button"),N=l("el-tag"),V=l("el-skeleton");return w(),M("div",P,[o(V,{loading:r.value,animated:""},{template:n(()=>[t("div",S,[o(c,{variant:"h1",style:{width:"50%"}}),t("div",U,[o(c,{variant:"text",style:{width:"100px"}})])]),o(c,{variant:"p",style:{height:"400px"}})]),default:n(()=>{var u,p,f,h;return[t("div",$,[t("div",q,[t("h1",F,d((u=a.value)==null?void 0:u.title),1),o(x,{type:"primary",onClick:k},{default:n(()=>s[0]||(s[0]=[g("编辑文章")])),_:1})]),t("div",G,[(p=a.value)!=null&&p.group_detail?(w(),Y(N,{key:0,size:"small"},{default:n(()=>[g(d(a.value.group_detail.name),1)]),_:1})):b("",!0),t("span",J,"更新于 "+d(y(((f=a.value)==null?void 0:f.updated_at)||"")),1)])]),t("div",K,[o(D(A),{modelValue:((h=a.value)==null?void 0:h.content)||""},null,8,["modelValue"])])]}),_:1},8,["loading"])])}}}),Z=z(L,[["__scopeId","data-v-f0720ffc"]]);export{Z as default};
