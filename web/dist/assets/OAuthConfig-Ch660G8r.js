import{a8 as r,d as ge,u as fe,E as $,r as V,y as ie,q as be,o as me,c as S,e as l,w as a,i as ve,h as y,H as Ce,j as k,b as n,p as o,x as w,k as C,I as A,G as B,t as E,N,P,F as M,A as O,Q as ce,_ as _e}from"./index-BF4pczYi.js";const s={getWeComConfigs:()=>r.get("/auth/wecom-config/"),createWeComConfig:u=>r.post("/auth/wecom-config/",u),updateWeComConfig:(u,_)=>r.patch(`/auth/wecom-config/${u}/`,_),deleteWeComConfig:u=>r.delete(`/auth/wecom-config/${u}/`),getCurrentWeComConfig:()=>r.get("/auth/wecom-config/current/"),getFeiShuConfigs:()=>r.get("/auth/feishu-config/"),createFeiShuConfig:u=>r.post("/auth/feishu-config/",u),updateFeiShuConfig:(u,_)=>r.patch(`/auth/feishu-config/${u}/`,_),deleteFeiShuConfig:u=>r.delete(`/auth/feishu-config/${u}/`),getCurrentFeiShuConfig:()=>r.get("/auth/feishu-config/current/"),getDingTalkConfigs:()=>r.get("/auth/dingtalk-config/"),createDingTalkConfig:u=>r.post("/auth/dingtalk-config/",u),updateDingTalkConfig:(u,_)=>r.patch(`/auth/dingtalk-config/${u}/`,_),deleteDingTalkConfig:u=>r.delete(`/auth/dingtalk-config/${u}/`),getCurrentDingTalkConfig:()=>r.get("/auth/dingtalk-config/current/"),getGitHubConfigs:()=>r.get("/auth/github-config/"),createGitHubConfig:u=>r.post("/auth/github-config/",u),updateGitHubConfig:(u,_)=>r.patch(`/auth/github-config/${u}/`,_),deleteGitHubConfig:u=>r.delete(`/auth/github-config/${u}/`),getCurrentGitHubConfig:()=>r.get("/auth/github-config/current/"),getGoogleConfigs:()=>r.get("/auth/google-config/"),createGoogleConfig:u=>r.post("/auth/google-config/",u),updateGoogleConfig:(u,_)=>r.patch(`/auth/google-config/${u}/`,_),deleteGoogleConfig:u=>r.delete(`/auth/google-config/${u}/`),getCurrentGoogleConfig:()=>r.get("/auth/google-config/current/"),getGitLabConfigs:()=>r.get("/auth/gitlab-config/"),createGitLabConfig:u=>r.post("/auth/gitlab-config/",u),updateGitLabConfig:(u,_)=>r.patch(`/auth/gitlab-config/${u}/`,_),deleteGitLabConfig:u=>r.delete(`/auth/gitlab-config/${u}/`),getCurrentGitLabConfig:()=>r.get("/auth/gitlab-config/current/"),getGiteeConfigs:()=>r.get("/auth/gitee-config/"),createGiteeConfig:u=>r.post("/auth/gitee-config/",u),updateGiteeConfig:(u,_)=>r.patch(`/auth/gitee-config/${u}/`,_),deleteGiteeConfig:u=>r.delete(`/auth/gitee-config/${u}/`),getCurrentGiteeConfig:()=>r.get("/auth/gitee-config/current/")},ke={class:"oauth-config-container"},Ve={class:"config-tips"},we={class:"tab-header"},ye={class:"config-tips"},he={class:"tab-header"},Ge={class:"config-tips"},$e={class:"tab-header"},Ue={class:"config-tips"},De={class:"tab-header"},Se={class:"config-tips"},Ie={class:"tab-header"},xe={class:"config-tips"},Le={class:"tab-header"},Te={class:"config-tips"},Fe={class:"tab-header"},He=ge({__name:"OAuthConfig",setup(u){var ae;const _=ve();((ae=fe().user)==null?void 0:ae.role)!=="superuser"&&($.error("只有超级管理员可以访问此页面"),_.push("/"));const c=V("wecom"),j=V(!1),J=V(!1),h=V(null),Q=V(),K=V([]),X=V([]),Y=V([]),Z=V([]),ee=V([]),le=V([]),te=V([]),G=V({wecom:!1,feishu:!1,dingtalk:!1,github:!1,google:!1,gitlab:!1,gitee:!1}),i=V({corp_id:"",agent_id:"",secret:"",app_id:"",app_secret:"",client_id:"",client_secret:"",redirect_uri:"",gitlab_server:"https://gitlab.com",enabled:!0}),oe=ie(()=>{const g=h.value?"编辑":"新建",e={wecom:"企业微信",feishu:"飞书",dingtalk:"钉钉",github:"GitHub",google:"Google",gitlab:"GitLab",gitee:"Gitee"}[c.value];return`${g}${e}配置`}),ne={corp_id:[{required:!0,message:"请输入企业ID",trigger:"blur"}],agent_id:[{required:!0,message:"请输入应用ID",trigger:"blur"}],secret:[{required:!0,message:"请输入应用密钥",trigger:"blur"}],app_id:[{required:!0,message:"请输入应用ID",trigger:"blur"}],app_secret:[{required:!0,message:"请输入应用密钥",trigger:"blur"}],client_id:[{required:!0,message:"请输入Client ID",trigger:"blur"}],client_secret:[{required:!0,message:"请输入Client Secret",trigger:"blur"}]},z=async()=>{try{switch(G.value[c.value]=!0,c.value){case"wecom":{const g=await s.getWeComConfigs();K.value=g.data;break}case"feishu":{const g=await s.getFeiShuConfigs();X.value=g.data;break}case"dingtalk":{const g=await s.getDingTalkConfigs();Y.value=g.data;break}case"github":{const g=await s.getGitHubConfigs();Z.value=g.data;break}case"google":{const g=await s.getGoogleConfigs();ee.value=g.data;break}case"gitlab":{const g=await s.getGitLabConfigs();le.value=g.data;break}case"gitee":{const g=await s.getGiteeConfigs();te.value=g.data;break}}}catch(g){console.error(g),$.error("获取配置列表失败")}finally{G.value[c.value]=!1}},ue=()=>{i.value={corp_id:"",agent_id:"",secret:"",app_id:"",app_secret:"",client_id:"",client_secret:"",redirect_uri:"",gitlab_server:"https://gitlab.com",enabled:!0},h.value=null,Q.value&&Q.value.resetFields()},I=g=>{c.value=g,ue(),j.value=!0},x=(g,e)=>{c.value=g,h.value=e,Object.assign(i.value,e),j.value=!0},L=async(g,e)=>{try{switch(await ce.confirm("确定要删除该配置吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),g){case"wecom":await s.deleteWeComConfig(e.id);break;case"feishu":await s.deleteFeiShuConfig(e.id);break;case"dingtalk":await s.deleteDingTalkConfig(e.id);break;case"github":await s.deleteGitHubConfig(e.id);break;case"google":await s.deleteGoogleConfig(e.id);break;case"gitlab":await s.deleteGitLabConfig(e.id);break;case"gitee":await s.deleteGiteeConfig(e.id);break}$.success("删除成功"),z()}catch(f){f!=="cancel"&&(console.error(f),$.error("删除失败"))}},T=async(g,e)=>{try{const f={enabled:e.enabled};switch(g){case"wecom":await s.updateWeComConfig(e.id,f);break;case"feishu":await s.updateFeiShuConfig(e.id,f);break;case"dingtalk":await s.updateDingTalkConfig(e.id,f);break;case"github":await s.updateGitHubConfig(e.id,f);break;case"google":await s.updateGoogleConfig(e.id,f);break;case"gitlab":await s.updateGitLabConfig(e.id,f);break;case"gitee":await s.updateGiteeConfig(e.id,f);break}$.success("更新状态成功")}catch(f){console.error(f),$.error("更新状态失败"),e.enabled=!e.enabled}},de=async()=>{Q.value&&await Q.value.validate(async g=>{if(g){J.value=!0;try{const e={...i.value};if(e.redirect_uri||(e.redirect_uri=`${U.value}/oauth/callback`),h.value){switch(c.value){case"wecom":await s.updateWeComConfig(h.value.id,e);break;case"feishu":await s.updateFeiShuConfig(h.value.id,e);break;case"dingtalk":await s.updateDingTalkConfig(h.value.id,e);break;case"github":await s.updateGitHubConfig(h.value.id,e);break;case"google":await s.updateGoogleConfig(h.value.id,e);break;case"gitlab":await s.updateGitLabConfig(h.value.id,e);break;case"gitee":await s.updateGiteeConfig(h.value.id,e);break}$.success("更新成功")}else{switch(c.value){case"wecom":await s.createWeComConfig(e);break;case"feishu":await s.createFeiShuConfig(e);break;case"dingtalk":await s.createDingTalkConfig(e);break;case"github":await s.createGitHubConfig(e);break;case"google":await s.createGoogleConfig(e);break;case"gitlab":await s.createGitLabConfig(e);break;case"gitee":await s.createGiteeConfig(e);break}$.success("创建成功")}j.value=!1,z()}catch(e){console.error(e),$.error("保存失败")}finally{J.value=!1}}})};be(c,()=>{z()}),me(()=>{z()});const U=ie(()=>window.location.origin);return(g,e)=>{const f=y("el-link"),F=y("el-icon"),v=y("el-button"),d=y("el-table-column"),D=y("el-switch"),H=y("el-button-group"),q=y("el-table"),R=y("el-tab-pane"),re=y("el-tabs"),m=y("el-input"),b=y("el-form-item"),se=y("el-form"),pe=y("el-dialog"),W=Ce("loading");return k(),S("div",ke,[l(re,{modelValue:c.value,"onUpdate:modelValue":e[7]||(e[7]=t=>c.value=t)},{default:a(()=>[l(R,{label:"企业微信配置",name:"wecom"},{default:a(()=>[n("div",Ve,[e[38]||(e[38]=n("p",null,"配置说明：",-1)),n("p",null,[e[36]||(e[36]=o("1. 请先前往 ")),l(f,{href:"https://work.weixin.qq.com/wework_admin/frame#profile",type:"primary",target:"_blank"},{default:a(()=>e[35]||(e[35]=[o("企业微信管理后台")])),_:1}),e[37]||(e[37]=o(" 获取相关配置"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[39]||(e[39]=n("p",null,"3. 授权范围请选择：企业内部开发 - 通讯录",-1))]),n("div",we,[l(v,{type:"primary",onClick:e[0]||(e[0]=t=>I("wecom")),disabled:K.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[40]||(e[40]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:K.value},{default:a(()=>[l(d,{prop:"corp_id",label:"企业ID",width:"300"}),l(d,{prop:"agent_id",label:"应用ID",width:"200"}),l(d,{prop:"secret",label:"应用密钥","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("wecom",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("wecom",t)},{default:a(()=>e[41]||(e[41]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("wecom",t)},{default:a(()=>e[42]||(e[42]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.wecom]])]),_:1}),l(R,{label:"飞书配置",name:"feishu"},{default:a(()=>[n("div",ye,[e[46]||(e[46]=n("p",null,"配置说明：",-1)),n("p",null,[e[44]||(e[44]=o("1. 请先前往 ")),l(f,{href:"https://open.feishu.cn/app",type:"primary",target:"_blank"},{default:a(()=>e[43]||(e[43]=[o("飞书开放平台")])),_:1}),e[45]||(e[45]=o(" 获取相关配置"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[47]||(e[47]=n("p",null,"3. 权限请选择：获取用户基本信息",-1))]),n("div",he,[l(v,{type:"primary",onClick:e[1]||(e[1]=t=>I("feishu")),disabled:X.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[48]||(e[48]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:X.value},{default:a(()=>[l(d,{prop:"app_id",label:"应用ID"}),l(d,{prop:"app_secret",label:"应用密钥","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("feishu",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("feishu",t)},{default:a(()=>e[49]||(e[49]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("feishu",t)},{default:a(()=>e[50]||(e[50]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.feishu]])]),_:1}),l(R,{label:"钉钉配置",name:"dingtalk"},{default:a(()=>[n("div",Ge,[e[54]||(e[54]=n("p",null,"配置说明：",-1)),n("p",null,[e[52]||(e[52]=o("1. 请先前往 ")),l(f,{href:"https://open-dev.dingtalk.com/fe/app#/corp/app",type:"primary",target:"_blank"},{default:a(()=>e[51]||(e[51]=[o("钉钉开放平台")])),_:1}),e[53]||(e[53]=o(" 获取相关配置"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[55]||(e[55]=n("p",null,"3. 权限请选择：通讯录个人信息读权限",-1))]),n("div",$e,[l(v,{type:"primary",onClick:e[2]||(e[2]=t=>I("dingtalk")),disabled:Y.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[56]||(e[56]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:Y.value},{default:a(()=>[l(d,{prop:"app_id",label:"APP ID",width:"350"}),l(d,{prop:"client_id",label:"Client ID",width:"200"}),l(d,{prop:"client_secret",label:"Client Secret","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("dingtalk",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("dingtalk",t)},{default:a(()=>e[57]||(e[57]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("dingtalk",t)},{default:a(()=>e[58]||(e[58]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.dingtalk]])]),_:1}),l(R,{label:"GitHub配置",name:"github"},{default:a(()=>[n("div",Ue,[e[62]||(e[62]=n("p",null,"配置说明：",-1)),n("p",null,[e[60]||(e[60]=o("1. 请先前往 ")),l(f,{href:"https://github.com/settings/developers",type:"primary",target:"_blank"},{default:a(()=>e[59]||(e[59]=[o("GitHub开发者设置")])),_:1}),e[61]||(e[61]=o(" 获取相关配置"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[63]||(e[63]=n("p",null,"3. 权限范围请选择：read:user, user:email",-1))]),n("div",De,[l(v,{type:"primary",onClick:e[3]||(e[3]=t=>I("github")),disabled:Z.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[64]||(e[64]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:Z.value},{default:a(()=>[l(d,{prop:"client_id",label:"Client ID"}),l(d,{prop:"client_secret",label:"Client Secret","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("github",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("github",t)},{default:a(()=>e[65]||(e[65]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("github",t)},{default:a(()=>e[66]||(e[66]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.github]])]),_:1}),l(R,{label:"Google配置",name:"google"},{default:a(()=>[n("div",Se,[e[70]||(e[70]=n("p",null,"配置说明：",-1)),n("p",null,[e[68]||(e[68]=o("1. 请先前往 ")),l(f,{href:"https://console.cloud.google.com/apis/credentials",type:"primary",target:"_blank"},{default:a(()=>e[67]||(e[67]=[o("Google Cloud Console")])),_:1}),e[69]||(e[69]=o(" 获取相关配置"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[71]||(e[71]=n("p",null,"3. 权限范围请选择：openid, email, profile",-1))]),n("div",Ie,[l(v,{type:"primary",onClick:e[4]||(e[4]=t=>I("google")),disabled:ee.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[72]||(e[72]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:ee.value},{default:a(()=>[l(d,{prop:"client_id",label:"Client ID"}),l(d,{prop:"client_secret",label:"Client Secret","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("google",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("google",t)},{default:a(()=>e[73]||(e[73]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("google",t)},{default:a(()=>e[74]||(e[74]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.google]])]),_:1}),l(R,{label:"GitLab配置",name:"gitlab"},{default:a(()=>[n("div",xe,[e[78]||(e[78]=n("p",null,"配置说明：",-1)),n("p",null,[e[76]||(e[76]=o("1. 请先前往 GitLab 实例的应用设置页面获取相关配置（对于公共 GitLab，地址为：")),l(f,{href:"https://gitlab.com/-/profile/applications",type:"primary",target:"_blank"},{default:a(()=>e[75]||(e[75]=[o("GitLab 应用设置")])),_:1}),e[77]||(e[77]=o("）"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[79]||(e[79]=n("p",null,"3. 权限范围请选择：read_user",-1)),e[80]||(e[80]=n("p",null,"4. 对于私有化部署的 GitLab，请填写完整的 GitLab 服务器地址（例如：https://gitlab.example.com）",-1))]),n("div",Le,[l(v,{type:"primary",onClick:e[5]||(e[5]=t=>I("gitlab")),disabled:le.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[81]||(e[81]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:le.value},{default:a(()=>[l(d,{prop:"client_id",label:"Client ID"}),l(d,{prop:"client_secret",label:"Client Secret","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("gitlab",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("gitlab",t)},{default:a(()=>e[82]||(e[82]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("gitlab",t)},{default:a(()=>e[83]||(e[83]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.gitlab]])]),_:1}),l(R,{label:"Gitee配置",name:"gitee"},{default:a(()=>[n("div",Te,[e[87]||(e[87]=n("p",null,"配置说明：",-1)),n("p",null,[e[85]||(e[85]=o("1. 请先前往 ")),l(f,{href:"https://gitee.com/oauth/applications",type:"primary",target:"_blank"},{default:a(()=>e[84]||(e[84]=[o("Gitee应用管理")])),_:1}),e[86]||(e[86]=o(" 获取相关配置"))]),n("p",null,"2. 回调域名请填写："+w(U.value)+"/oauth/callback",1),e[88]||(e[88]=n("p",null,"3. 权限范围请选择：user_info, emails",-1))]),n("div",Fe,[l(v,{type:"primary",onClick:e[6]||(e[6]=t=>I("gitee")),disabled:te.value.length>=1},{default:a(()=>[l(F,null,{default:a(()=>[l(C(A))]),_:1}),e[89]||(e[89]=o("新建配置 "))]),_:1},8,["disabled"])]),B((k(),E(q,{data:te.value},{default:a(()=>[l(d,{prop:"client_id",label:"Client ID"}),l(d,{prop:"client_secret",label:"Client Secret","show-overflow-tooltip":""}),l(d,{prop:"redirect_uri",label:"回调域名","show-overflow-tooltip":""},{default:a(({row:t})=>[l(f,{type:"primary",href:t.redirect_uri,target:"_blank",underline:!1},{default:a(()=>[o(w(t.redirect_uri),1)]),_:2},1032,["href"])]),_:1}),l(d,{prop:"enabled",label:"状态",width:"100"},{default:a(({row:t})=>[l(D,{modelValue:t.enabled,"onUpdate:modelValue":p=>t.enabled=p,onChange:p=>T("gitee",t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),l(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[l(H,null,{default:a(()=>[l(v,{type:"primary",icon:C(N),onClick:p=>x("gitee",t)},{default:a(()=>e[90]||(e[90]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"]),l(v,{type:"danger",icon:C(P),onClick:p=>L("gitee",t)},{default:a(()=>e[91]||(e[91]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,G.value.gitee]])]),_:1})]),_:1},8,["modelValue"]),l(pe,{modelValue:j.value,"onUpdate:modelValue":e[34]||(e[34]=t=>j.value=t),title:oe.value,width:"600px"},{footer:a(()=>[l(v,{onClick:e[33]||(e[33]=t=>j.value=!1)},{default:a(()=>e[92]||(e[92]=[o("取消")])),_:1}),l(v,{type:"primary",onClick:de,loading:J.value},{default:a(()=>e[93]||(e[93]=[o(" 确定 ")])),_:1},8,["loading"])]),default:a(()=>[l(se,{ref_key:"formRef",ref:Q,model:i.value,rules:ne,"label-width":"120px"},{default:a(()=>[c.value==="wecom"?(k(),S(M,{key:0},[l(b,{label:"企业ID",prop:"corp_id"},{default:a(()=>[l(m,{modelValue:i.value.corp_id,"onUpdate:modelValue":e[8]||(e[8]=t=>i.value.corp_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"应用ID",prop:"agent_id"},{default:a(()=>[l(m,{modelValue:i.value.agent_id,"onUpdate:modelValue":e[9]||(e[9]=t=>i.value.agent_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"应用密钥",prop:"secret"},{default:a(()=>[l(m,{modelValue:i.value.secret,"onUpdate:modelValue":e[10]||(e[10]=t=>i.value.secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[11]||(e[11]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),c.value==="feishu"?(k(),S(M,{key:1},[l(b,{label:"应用ID",prop:"app_id"},{default:a(()=>[l(m,{modelValue:i.value.app_id,"onUpdate:modelValue":e[12]||(e[12]=t=>i.value.app_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"应用密钥",prop:"app_secret"},{default:a(()=>[l(m,{modelValue:i.value.app_secret,"onUpdate:modelValue":e[13]||(e[13]=t=>i.value.app_secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[14]||(e[14]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),c.value==="dingtalk"?(k(),S(M,{key:2},[l(b,{label:"Client ID",prop:"client_id"},{default:a(()=>[l(m,{modelValue:i.value.client_id,"onUpdate:modelValue":e[15]||(e[15]=t=>i.value.client_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"Client Secret",prop:"client_secret"},{default:a(()=>[l(m,{modelValue:i.value.client_secret,"onUpdate:modelValue":e[16]||(e[16]=t=>i.value.client_secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"APP ID",prop:"app_id"},{default:a(()=>[l(m,{modelValue:i.value.app_id,"onUpdate:modelValue":e[17]||(e[17]=t=>i.value.app_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[18]||(e[18]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),c.value==="github"?(k(),S(M,{key:3},[l(b,{label:"Client ID",prop:"client_id"},{default:a(()=>[l(m,{modelValue:i.value.client_id,"onUpdate:modelValue":e[19]||(e[19]=t=>i.value.client_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"Client Secret",prop:"client_secret"},{default:a(()=>[l(m,{modelValue:i.value.client_secret,"onUpdate:modelValue":e[20]||(e[20]=t=>i.value.client_secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[21]||(e[21]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),c.value==="google"?(k(),S(M,{key:4},[l(b,{label:"Client ID",prop:"client_id"},{default:a(()=>[l(m,{modelValue:i.value.client_id,"onUpdate:modelValue":e[22]||(e[22]=t=>i.value.client_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"Client Secret",prop:"client_secret"},{default:a(()=>[l(m,{modelValue:i.value.client_secret,"onUpdate:modelValue":e[23]||(e[23]=t=>i.value.client_secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[24]||(e[24]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),c.value==="gitlab"?(k(),S(M,{key:5},[l(b,{label:"GitLab 地址",prop:"gitlab_server"},{default:a(()=>[l(m,{modelValue:i.value.gitlab_server,"onUpdate:modelValue":e[25]||(e[25]=t=>i.value.gitlab_server=t),placeholder:"例如：https://gitlab.example.com"},null,8,["modelValue"])]),_:1}),l(b,{label:"Client ID",prop:"client_id"},{default:a(()=>[l(m,{modelValue:i.value.client_id,"onUpdate:modelValue":e[26]||(e[26]=t=>i.value.client_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"Client Secret",prop:"client_secret"},{default:a(()=>[l(m,{modelValue:i.value.client_secret,"onUpdate:modelValue":e[27]||(e[27]=t=>i.value.client_secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[28]||(e[28]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),c.value==="gitee"?(k(),S(M,{key:6},[l(b,{label:"Client ID",prop:"client_id"},{default:a(()=>[l(m,{modelValue:i.value.client_id,"onUpdate:modelValue":e[29]||(e[29]=t=>i.value.client_id=t)},null,8,["modelValue"])]),_:1}),l(b,{label:"Client Secret",prop:"client_secret"},{default:a(()=>[l(m,{modelValue:i.value.client_secret,"onUpdate:modelValue":e[30]||(e[30]=t=>i.value.client_secret=t),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(b,{label:"回调域名",prop:"redirect_uri"},{default:a(()=>[l(m,{modelValue:i.value.redirect_uri,"onUpdate:modelValue":e[31]||(e[31]=t=>i.value.redirect_uri=t),placeholder:"留空将自动使用当前域名"},null,8,["modelValue"])]),_:1})],64)):O("",!0),l(b,{label:"状态",prop:"enabled"},{default:a(()=>[l(D,{modelValue:i.value.enabled,"onUpdate:modelValue":e[32]||(e[32]=t=>i.value.enabled=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),We=_e(He,[["__scopeId","data-v-6ef33baf"]]);export{We as default};
