import{d as C,r as v,a4 as b,a5 as B,c as M,e as o,w as n,f as l,m as E,g as Y,o as g,b as t,v as d,j as w,s as D,A as R,h as j,C as H,G as T,_ as z}from"./index-BSIg3Nif.js";import{M as A}from"./style-DInfTJr4.js";import{g as G}from"./index-C0dn4vm3.js";const I={class:"note-view-container"},P={class:"header"},S={class:"meta"},U={class:"header"},$={class:"title-row"},q={class:"title"},F={class:"meta"},J={class:"time"},K={class:"content"},L=C({__name:"NoteView",setup(O){const r=E(),_=Y(),a=v(null),i=v(!1),y=e=>e?H(e).format("YYYY-MM-DD HH:mm:ss"):"",m=async e=>{i.value=!0;try{const s=await G(e);a.value=s.data}catch(s){console.error("获取笔记失败:",s),T.error("获取笔记失败"),_.push("/notes")}finally{i.value=!1}},N=()=>{_.push(`/notes/edit/${r.params.id}`)};return b(async e=>{e.params.id&&await m(Number(e.params.id))}),B(async()=>{r.params.id&&await m(Number(r.params.id))}),(e,s)=>{const c=l("el-skeleton-item"),k=l("el-button"),x=l("el-tag"),V=l("el-skeleton");return g(),M("div",I,[o(V,{loading:i.value,animated:""},{template:n(()=>[t("div",P,[o(c,{variant:"h1",style:{width:"50%"}}),t("div",S,[o(c,{variant:"text",style:{width:"100px"}})])]),o(c,{variant:"p",style:{height:"400px"}})]),default:n(()=>{var u,p,f,h;return[t("div",U,[t("div",$,[t("h1",q,d((u=a.value)==null?void 0:u.title),1),o(k,{type:"primary",onClick:N},{default:n(()=>s[0]||(s[0]=[w("编辑文章")])),_:1})]),t("div",F,[(p=a.value)!=null&&p.group_detail?(g(),D(x,{key:0,size:"small"},{default:n(()=>[w(d(a.value.group_detail.name),1)]),_:1})):R("",!0),t("span",J,"更新于 "+d(y(((f=a.value)==null?void 0:f.updated_at)||"")),1)])]),t("div",K,[o(j(A),{modelValue:((h=a.value)==null?void 0:h.content)||""},null,8,["modelValue"])])]}),_:1},8,["loading"])])}}}),Z=z(L,[["__scopeId","data-v-9a1caaed"]]);export{Z as default};
